{% extends "index.html" %}

<hr />
{% block content %}
<section class="container my-5">
  <h1>Hello world</h1>
  <div>
    <canvas id="myChart"></canvas>
  </div>
</section>
{% endblock content %}
<hr />

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById("myChart");

  new Chart(ctx, {
    type: "bar",
    data: {
      labels: JSON.parse("{{ labels|escapejs }}"),
      datasets: [
        {
          label: "# of Votes",
          data: JSON.parse("{{ data|escapejs }}"),
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
</script>

{% endblock scripts %}
